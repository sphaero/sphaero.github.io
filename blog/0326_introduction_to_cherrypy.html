<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to cherrypy - sphaero.org </title>
    <link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body >
    <nav>
        <a id="navhome" href="/" aria-label="Home">
        /
        </a>
        
        <a href="/blog/">/blog</a>
        
        <a href="/projects/">/projects</a>
        
        <a href="/r&d/">/r&d</a>
        
    </nav>

    <main>
        

<tags>
    <ul> 
    <div>tags:</div> 
    
    <li><a href="/tags/python.html">python</a></li>
    
    <li><a href="/tags/cherrypy.html">cherrypy</a></li>
    
    <li><a href="/tags/webob.html">webob</a></li>
    
    <li><a href="/tags/werkzeug.html">werkzeug</a></li>
    
    <li><a href="/tags/web.html">web</a></li>
    
    </ul>
</tags>


<div class="date">~2012</div>

<content>
<h1 id="introduction-to-cherrypy">Introduction to CherryPy</h1>
<p>Since my first article about an <a href="blog:2012:0325_introduction_to_python_web_programming">Introduction to python web programming</a> I went exploring frameworks to make it even simpler. I wanted something simple and lightweight and preferably supplied by distributions. There are quite some choices and for this article I explored <a href="http://www.cherrypy.org/">CherryPy</a>. This led me to some reflection into why even use a framework.... and so the article became mostly an outro to CherryPy...  </p>
<h1 id="_1"></h1>
<p>I assume you are familiar with Python and the WSGI approach from my <a href="blog:2012:0325_introduction_to_python_web_programming">previous article</a>. CherryPy is just a WSGI framework for python. In essence it does exactly what was explained in the previous article but it just does it with more developer friendly options.</p>
<h2 id="installingen-and-running-cherrypy">Installingen and running CherryPy</h2>
<p>On my Ubuntu workstation I can just run:</p>
<div class="codehilite"><pre><span></span><code>sudo apt-get install cherrypy3
</code></pre></div>

<p>This works for my Debian server as well.</p>
<p>If you look at the <a href="http://www.cherrypy.org">CherryPy website</a> you'll notice it's very easy to write the Hello World app:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cherrypy</span>
<span class="k">class</span><span class="w"> </span><span class="nc">HelloWorld</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Hello World!&quot;</span>
<span class="w">    </span><span class="n">index</span><span class="o">.</span><span class="n">exposed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">True</span>

<span class="n">cherrypy</span><span class="o">.</span><span class="n">quickstart</span><span class="p">(</span><span class="n">HelloWorld</span><span class="p">())</span>
</code></pre></div>

<p>The Hello World app runs just fine. The app listens on <a href="http://localhost:8080">http://localhost:8080</a>. Couldn't be easier.</p>
<p>Example output:</p>
<div class="codehilite"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="s2">&quot;test.py&quot;</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">SIGHUP</span><span class="o">.</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">SIGTERM</span><span class="o">.</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">SIGUSR1</span><span class="o">.</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Bus</span><span class="w"> </span><span class="n">STARTING</span>
<span class="n">CherryPy</span><span class="w"> </span><span class="n">Checker</span><span class="p">:</span>
<span class="n">The</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">config</span><span class="o">.</span>

<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Started</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="s1">&#39;_TimeoutMonitor&#39;</span><span class="o">.</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Started</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="s1">&#39;Autoreloader&#39;</span><span class="o">.</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Serving</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8080</span>
<span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">Bus</span><span class="w"> </span><span class="n">STARTED</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">42</span><span class="p">]</span><span class="w"> </span><span class="s2">&quot;GET / HTTP/1.1&quot;</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0&quot;</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">42</span><span class="p">]</span><span class="w"> </span><span class="s2">&quot;GET /favicon.ico HTTP/1.1&quot;</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="mi">1406</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0&quot;</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="mi">26</span><span class="o">/</span><span class="n">Mar</span><span class="o">/</span><span class="mi">2012</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">42</span><span class="p">]</span><span class="w"> </span><span class="s2">&quot;GET /favicon.ico HTTP/1.1&quot;</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="mi">1406</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</code></pre></div>

<p>I wanted to explore the following subjects with CherryPy:
1. JSON output
2. Templating
3. Running in Apache</p>
<p>But reading on I started to dislike CherryPy. It has a lot of beauties but once I started to implement my own classes into CherryPy I discovered that I needed to change those classes to incorporate the exposed = True var. The other way would be to write wrapper classes but I didn't want a framework to get me do more work...</p>
<p>Then there's the full blown CherryPy webserver. Sure it has it's potential but I'm doing fine with the wsgiref one. In production I will use Apache and friends. I started looking for other frameworks and did some tests with <a href="http://werkzeug.pocoo.org/">Werkzeug</a>. Werkzeug looked promising but I didn't quite like it's routing and dispatching or I didn't want to read more.</p>
<p>Then there was also the issue that my fellow programmers need to get into Python and these frameworks have a learning curve of their own. I don't want them to go through that.</p>
<p>Thinking this through made me wonder why I even needed a framework.</p>
<p>Reading on and on I discovered a lot of those frameworks are based upon WebOB and reading those documents I settled on <a href="http:*www.webob.org/">WebOb</a>. <a href="http:*www.webob.org/">WebOb</a> just makes easy to handle request and response objects of the WSGI interface. This way you don't have to parse the environment of WSGI yourself.</p>
<p>So in the end this blog post led to very useful research but a rather useless article. :-?</p>
</content>

    </main>
    <div class="clearfix" style="content: ''; display: table; clear: both;"></div>
    <footer>
        &copy; 2024 <a href="arnaud@sphaero.org">Arnaud Loonstra</a>
        | <a href="https://www.researchgate.net/profile/Arnaud-Loonstra">ResearchGate</a>
        | <a href="https://github.com/sphaero">GitHub</a>
        | <a href="https://www.linkedin.com/in/sphaero">LinkedIn</a>
    </footer>
</body>
</html>